---
import Layout from '@/layouts/Layout.astro';
import {
    Accordion,
    AccordionItem,
    AccordionTrigger,
    AccordionContent,
} from '@/components/ui/display';
import AccordionItems from '@/components/ui/display/accordion/AccordionItems.astro';

const testData = [
    { id: 'test-1', question: 'Test Question 1', answer: 'Test Answer 1' },
    { id: 'test-2', question: 'Test Question 2', answer: 'Test Answer 2' }
];
---

<Layout title="Accordion Test">
    <div class="p-8 space-y-8">
        <h1 class="text-2xl font-bold">Accordion Test Page</h1>
        
        <!-- Test 1: Dynamic rendering -->
        <div x-data={`{items: ${JSON.stringify(testData)}}`} 
             x-init="console.log('Test data:', items)">
            <h2 class="text-lg font-semibold mb-4">Test 1: Dynamic x-for</h2>
            <Accordion>
                <AccordionItems x-for="item in items" x-key="item.id">
                    <AccordionTrigger iconType="chevron">
                        <span x-text="item.question"></span>
                    </AccordionTrigger>
                    <AccordionContent>
                        <span x-text="item.answer"></span>
                    </AccordionContent>
                </AccordionItems>
            </Accordion>
        </div>

        <!-- Test 2: Static rendering -->
        <div>
            <h2 class="text-lg font-semibold mb-4">Test 2: Static</h2>
            <Accordion>
                <AccordionItem>
                    <AccordionTrigger iconType="plus">
                        Static Question
                    </AccordionTrigger>
                    <AccordionContent>
                        Static Answer
                    </AccordionContent>
                </AccordionItem>
            </Accordion>
        </div>
    </div>
</Layout>