---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/pine/Card.astro';
import Button from '../../components/pine/Button.astro';
import Badge from '../../components/pine/Badge.astro';
import Switch from '../../components/pine/Switch.astro';
---

<Layout title="Switch Component Test">
  <main class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold mb-4">Switch Component Test</h1>
      <div class="flex justify-center gap-2 mb-6">
        <Button href="/test" variant="outline" color="neutral">← Back to Test Suite</Button>
        <Button href="/test/all" variant="ghost" color="neutral">View All</Button>
      </div>
    </div>

    <!-- Size Variants Test -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Size Variants</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Small Switches -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Small (sm)</h3>
            <div class="space-y-4">
              <Switch 
                id="small-1" 
                size="sm"
                label="Small switch" 
                description="Compact size for tight spaces"
              />
              
              <Switch 
                id="small-2" 
                size="sm"
                label="Pre-enabled small" 
                description="This small switch starts enabled"
                checked={true}
              />
              
              <Switch 
                id="small-3" 
                size="sm"
                label="Disabled small" 
                description="This small switch is disabled"
                disabled={true}
              />
              
              <Switch 
                id="small-4" 
                size="sm"
                label="Disabled enabled" 
                description="Disabled but in on state"
                checked={true}
                disabled={true}
              />
            </div>
          </div>
          
          <!-- Medium Switches (Default) -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Medium (md) - Default</h3>
            <div class="space-y-4">
              <Switch 
                id="medium-1" 
                size="md"
                label="Medium switch" 
                description="Standard size for most use cases"
              />
              
              <Switch 
                id="medium-2" 
                size="md"
                label="Pre-enabled medium" 
                description="This medium switch starts enabled"
                checked={true}
              />
              
              <Switch 
                id="medium-3" 
                size="md"
                label="Disabled medium" 
                description="This medium switch is disabled"
                disabled={true}
              />
              
              <Switch 
                id="medium-4" 
                size="md"
                label="Disabled enabled" 
                description="Disabled but in on state"
                checked={true}
                disabled={true}
              />
            </div>
          </div>
          
          <!-- Large Switches -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Large (lg)</h3>
            <div class="space-y-4">
              <Switch 
                id="large-1" 
                size="lg"
                label="Large switch" 
                description="Larger size for better accessibility"
              />
              
              <Switch 
                id="large-2" 
                size="lg"
                label="Pre-enabled large" 
                description="This large switch starts enabled"
                checked={true}
              />
              
              <Switch 
                id="large-3" 
                size="lg"
                label="Disabled large" 
                description="This large switch is disabled"
                disabled={true}
              />
              
              <Switch 
                id="large-4" 
                size="lg"
                label="Disabled enabled" 
                description="Disabled but in on state"
                checked={true}
                disabled={true}
              />
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Label Variants Test -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Label and Description Variants</h2>
        <div class="space-y-6">
          <!-- With Both Label and Description -->
          <div>
            <h3 class="text-lg font-semibold mb-3">With Label and Description</h3>
            <div class="space-y-3">
              <Switch 
                id="full-1" 
                label="Email notifications" 
                description="Receive email updates about your account activity and important announcements"
              />
              
              <Switch 
                id="full-2" 
                label="Auto-save documents" 
                description="Automatically save your work every few minutes to prevent data loss"
                checked={true}
              />
            </div>
          </div>
          
          <!-- Label Only -->
          <div>
            <h3 class="text-lg font-semibold mb-3">Label Only</h3>
            <div class="space-y-3">
              <Switch id="label-1" label="Dark mode" />
              <Switch id="label-2" label="Two-factor authentication" checked={true} />
              <Switch id="label-3" label="Beta features" />
            </div>
          </div>
          
          <!-- No Labels (Standalone) -->
          <div>
            <h3 class="text-lg font-semibold mb-3">Standalone Switches (No Labels)</h3>
            <div class="flex gap-4 items-center">
              <div class="text-center">
                <Switch id="standalone-1" />
                <p class="text-sm text-gray-500 mt-2">Off</p>
              </div>
              <div class="text-center">
                <Switch id="standalone-2" checked={true} />
                <p class="text-sm text-gray-500 mt-2">On</p>
              </div>
              <div class="text-center">
                <Switch id="standalone-3" disabled={true} />
                <p class="text-sm text-gray-500 mt-2">Disabled</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Interactive Demo -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Interactive Demo</h2>
        <div x-data="{ 
          switches: {
            notifications: true,
            autoSave: false,
            darkMode: false,
            betaFeatures: false,
            analytics: true
          },
          
          get enabledCount() {
            return Object.values(this.switches).filter(Boolean).length;
          },
          
          enableAll() {
            Object.keys(this.switches).forEach(key => this.switches[key] = true);
          },
          
          disableAll() {
            Object.keys(this.switches).forEach(key => this.switches[key] = false);
          }
        }">
          <div class="space-y-6">
            <div class="flex gap-4 items-center mb-6">
              <Button @click="enableAll()" variant="solid" color="green" size="sm">
                Enable All
              </Button>
              <Button @click="disableAll()" variant="outline" color="red" size="sm">
                Disable All
              </Button>
              <Badge variant="soft" color="blue">
                <span x-text="enabledCount"></span> of 5 enabled
              </Badge>
            </div>
            
            <div class="space-y-4">
              <Switch 
                id="demo-notifications" 
                label="Push Notifications" 
                description="Receive real-time updates and alerts"
                x-model="switches.notifications"
              />
              
              <Switch 
                id="demo-autosave" 
                label="Auto-save" 
                description="Automatically save your work every 30 seconds"
                x-model="switches.autoSave"
              />
              
              <Switch 
                id="demo-darkmode" 
                label="Dark Mode" 
                description="Use dark theme for better viewing in low light"
                x-model="switches.darkMode"
              />
              
              <Switch 
                id="demo-beta" 
                label="Beta Features" 
                description="Get early access to experimental features"
                x-model="switches.betaFeatures"
              />
              
              <Switch 
                id="demo-analytics" 
                label="Usage Analytics" 
                description="Help improve the app by sharing anonymous usage data"
                x-model="switches.analytics"
              />
            </div>
            
            <div class="mt-6 p-4 bg-gray-50 rounded-lg">
              <h4 class="font-semibold mb-3">Current Settings:</h4>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                <div>Notifications: <Badge :color="switches.notifications ? 'green' : 'gray'" variant="soft" size="sm" x-text="switches.notifications ? 'Enabled' : 'Disabled'"></Badge></div>
                <div>Auto-save: <Badge :color="switches.autoSave ? 'green' : 'gray'" variant="soft" size="sm" x-text="switches.autoSave ? 'Enabled' : 'Disabled'"></Badge></div>
                <div>Dark Mode: <Badge :color="switches.darkMode ? 'green' : 'gray'" variant="soft" size="sm" x-text="switches.darkMode ? 'Enabled' : 'Disabled'"></Badge></div>
                <div>Beta Features: <Badge :color="switches.betaFeatures ? 'green' : 'gray'" variant="soft" size="sm" x-text="switches.betaFeatures ? 'Enabled' : 'Disabled'"></Badge></div>
                <div>Analytics: <Badge :color="switches.analytics ? 'green' : 'gray'" variant="soft" size="sm" x-text="switches.analytics ? 'Enabled' : 'Disabled'"></Badge></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Form Integration Example -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Settings Form Example</h2>
        <form x-data="{ 
          settings: {
            emailNotifications: true,
            smsNotifications: false,
            pushNotifications: true,
            marketingEmails: false,
            weeklyDigest: true,
            instantAlerts: false,
            maintenanceNotices: true
          },
          
          saveSettings() {
            alert('Settings saved successfully!\\n\\n' + JSON.stringify(this.settings, null, 2));
          },
          
          resetToDefaults() {
            this.settings = {
              emailNotifications: true,
              smsNotifications: false,
              pushNotifications: true,
              marketingEmails: false,
              weeklyDigest: true,
              instantAlerts: false,
              maintenanceNotices: true
            };
          }
        }" @submit.prevent="saveSettings()">
          <div class="space-y-6">
            <!-- Notification Preferences -->
            <div>
              <h3 class="text-lg font-semibold mb-4">Notification Preferences</h3>
              <div class="space-y-4">
                <Switch 
                  id="form-email-notif" 
                  name="emailNotifications"
                  label="Email Notifications" 
                  description="Receive important updates via email"
                  x-model="settings.emailNotifications"
                />
                
                <Switch 
                  id="form-sms-notif" 
                  name="smsNotifications"
                  label="SMS Notifications" 
                  description="Get urgent alerts via text message"
                  x-model="settings.smsNotifications"
                />
                
                <Switch 
                  id="form-push-notif" 
                  name="pushNotifications"
                  label="Push Notifications" 
                  description="Receive browser or app notifications"
                  x-model="settings.pushNotifications"
                />
              </div>
            </div>
            
            <!-- Marketing Preferences -->
            <div>
              <h3 class="text-lg font-semibold mb-4">Marketing & Content</h3>
              <div class="space-y-4">
                <Switch 
                  id="form-marketing" 
                  name="marketingEmails"
                  label="Marketing Emails" 
                  description="Receive promotional offers and product updates"
                  x-model="settings.marketingEmails"
                />
                
                <Switch 
                  id="form-digest" 
                  name="weeklyDigest"
                  label="Weekly Digest" 
                  description="Get a summary of your activity and new features"
                  x-model="settings.weeklyDigest"
                />
              </div>
            </div>
            
            <!-- Alert Settings -->
            <div>
              <h3 class="text-lg font-semibold mb-4">Alert Settings</h3>
              <div class="space-y-4">
                <Switch 
                  id="form-instant" 
                  name="instantAlerts"
                  label="Instant Alerts" 
                  description="Get immediate notifications for critical events"
                  x-model="settings.instantAlerts"
                />
                
                <Switch 
                  id="form-maintenance" 
                  name="maintenanceNotices"
                  label="Maintenance Notices" 
                  description="Be notified about scheduled maintenance and downtime"
                  x-model="settings.maintenanceNotices"
                />
              </div>
            </div>
            
            <!-- Form Actions -->
            <div class="flex gap-4 pt-6 border-t">
              <Button type="submit" variant="solid" color="blue">
                Save Settings
              </Button>
              <Button type="button" variant="outline" color="neutral" @click="resetToDefaults()">
                Reset to Defaults
              </Button>
            </div>
          </div>
        </form>
      </div>
    </Card>

    <!-- Real-world Usage Examples -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Real-world Usage Examples</h2>
        <div class="space-y-6">
          <!-- User Profile Settings -->
          <div class="border border-gray-200 rounded-lg p-4">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                JD
              </div>
              <div>
                <h3 class="font-semibold">John Doe</h3>
                <p class="text-sm text-gray-500">john.doe@example.com</p>
              </div>
            </div>
            
            <div class="space-y-3">
              <Switch 
                id="profile-online" 
                label="Show online status" 
                size="sm"
                checked={true}
              />
              <Switch 
                id="profile-activity" 
                label="Share activity status" 
                size="sm"
              />
              <Switch 
                id="profile-visibility" 
                label="Public profile" 
                size="sm"
                checked={true}
              />
            </div>
          </div>
          
          <!-- Device Settings -->
          <div class="border border-gray-200 rounded-lg p-4">
            <h3 class="font-semibold mb-4">Device Settings</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <Switch 
                  id="device-bluetooth" 
                  label="Bluetooth" 
                  description="Connect to wireless devices"
                  checked={true}
                />
              </div>
              <div>
                <Switch 
                  id="device-wifi" 
                  label="Wi-Fi" 
                  description="Connect to wireless networks"
                  checked={true}
                />
              </div>
              <div>
                <Switch 
                  id="device-location" 
                  label="Location Services" 
                  description="Allow apps to access your location"
                />
              </div>
              <div>
                <Switch 
                  id="device-camera" 
                  label="Camera Access" 
                  description="Allow apps to use your camera"
                  checked={true}
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Status Summary -->
    <Card>
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Test Results</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">All sizes render correctly</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Alpine.js integration</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Smooth animations</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Form integration</p>
          </div>
        </div>
      </div>
    </Card>
  </main>
</Layout>