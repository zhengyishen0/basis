---
import Layout from '@/layouts/Layout.astro';
import {
    Select,
    SelectTrigger,
    SelectContent,
    SelectItem,
    SelectItems,
    SelectGroup,
    SelectGroups,
} from '@/components/ui/forms/select';
import MenuItem from '@/components/ui/overlay/menu/MenuItem.astro';
import { ChevronDown } from 'lucide-astro';
---

<Layout title="Select Demo">
    <main class="container mx-auto p-8 space-y-12">
        <div class="text-center">
            <h1 class="text-3xl font-bold mb-4">Select Component Demo</h1>
            <p class="text-muted-foreground mb-8">
                Select components for form inputs with keyboard navigation and
                smart positioning
            </p>
        </div>

        <!-- Basic Select Example -->
        <section class="space-y-6">
            <h2 class="text-2xl font-semibold">Basic Select</h2>

            <div class="flex gap-4 flex-wrap">
                <div
                    x-data="{
                        selectedValue: 'apple',
                        selectedLabel: 'Apple'
                    }"
                >
                    <Select>
                        <SelectTrigger variant="outline" class="w-48">
                            <span
                                x-text="selectedLabel"
                                class="flex-1 text-left"></span>
                            <ChevronDown class="w-4 h-4" />
                        </SelectTrigger>
                        <SelectContent role="listbox">
                            <SelectGroup>
                                <SelectItem value="apple" label="Apple" />
                                <SelectItem value="banana" label="Banana" />
                                <SelectItem value="orange" label="Orange" />
                                <SelectItem value="grape" label="Grape" />
                            </SelectGroup>
                        </SelectContent>
                    </Select>

                    <p class="mt-2 text-sm text-muted-foreground">
                        Selected: <span
                            x-text="selectedValue"
                            class="font-medium"></span>
                    </p>
                </div>
            </div>
        </section>

        <!-- Grouped Select Example -->
        <section class="space-y-6">
            <h2 class="text-2xl font-semibold">Grouped Select</h2>

            <div
                x-data="{
                    selectedValue: 'chrome',
                    selectedLabel: 'Chrome'
                }"
            >
                <Select trigger="click">
                    <SelectTrigger variant="outline" class="w-56">
                        <span x-text="selectedLabel" class="flex-1 text-left"
                        ></span>
                        <ChevronDown class="w-4 h-4" />
                    </SelectTrigger>
                    <SelectContent role="listbox">
                        <SelectGroup x-text="'Desktop Browsers'">
                            <SelectItem value="chrome" label="Chrome" />
                            <SelectItem value="firefox" label="Firefox" />
                            <SelectItem value="safari" label="Safari" />
                        </SelectGroup>

                        <SelectGroup x-text="'Mobile Browsers'">
                            <SelectItem
                                value="chrome-mobile"
                                label="Chrome Mobile"
                            />
                            <SelectItem
                                value="safari-mobile"
                                label="Safari Mobile"
                            />
                        </SelectGroup>
                    </SelectContent>
                </Select>

                <p class="mt-2 text-sm text-muted-foreground">
                    Selected: <span x-text="selectedValue" class="font-medium"
                    ></span>
                </p>
            </div>
        </section>

        <!-- Dynamic Select Example -->
        <section class="space-y-6">
            <h2 class="text-2xl font-semibold">
                Dynamic Select with SelectItems
            </h2>

            <div
                x-data="{
                    selectedValue: 'js',
                    selectedLabel: 'JavaScript',
                    languages: [
                        { value: 'js', label: 'JavaScript' },
                        { value: 'ts', label: 'TypeScript' },
                        { value: 'py', label: 'Python' },
                        { value: 'java', label: 'Java' },
                        { value: 'rust', label: 'Rust' },
                        { value: 'go', label: 'Go' }
                    ]
                }"
                class="max-w-sm"
            >
                <label class="block text-sm font-medium mb-2"
                    >Programming Language</label
                >
                <Select>
                    <SelectTrigger variant="outline" class="w-full">
                        <span x-text="selectedLabel" class="flex-1 text-left"
                        ></span>
                        <ChevronDown class="w-4 h-4" />
                    </SelectTrigger>
                    <SelectContent role="listbox">
                        <SelectItems x-for="item in languages" />
                    </SelectContent>
                </Select>

                <p class="mt-2 text-sm text-muted-foreground">
                    Selected: <span x-text="selectedValue" class="font-medium"
                    ></span>
                </p>
            </div>
        </section>

        <!-- Grouped Dynamic Select Example -->
        <section class="space-y-6">
            <h2 class="text-2xl font-semibold">Grouped Dynamic Select</h2>

            <div
                x-data="{
                    selectedValue: 'chrome',
                    selectedLabel: 'Chrome',
                    browserGroups: [
                        {
                            heading: 'Desktop Browsers',
                            items: [
                                { value: 'chrome', label: 'Chrome' },
                                { value: 'firefox', label: 'Firefox' },
                                { value: 'safari', label: 'Safari' },
                                { value: 'edge', label: 'Edge' }
                            ]
                        },
                        {
                            heading: 'Mobile Browsers',
                            items: [
                                { value: 'chrome-mobile', label: 'Chrome Mobile' },
                                { value: 'safari-mobile', label: 'Safari Mobile' },
                                { value: 'firefox-mobile', label: 'Firefox Mobile' }
                            ]
                        }
                    ]
                }"
                class="max-w-sm"
            >
                <label class="block text-sm font-medium mb-2"
                    >Browser Selection</label
                >
                <Select>
                    <SelectTrigger variant="outline" class="w-full">
                        <span x-text="selectedLabel" class="flex-1 text-left"
                        ></span>
                        <ChevronDown class="w-4 h-4" />
                    </SelectTrigger>
                    <SelectContent role="listbox">
                        <SelectGroups
                            x-for="group in browserGroups"
                            x-key="group.heading"
                            x-text="group.heading"
                        >
                            <SelectItems x-for="item in group.items" />
                        </SelectGroups>
                    </SelectContent>
                </Select>

                <p class="mt-2 text-sm text-muted-foreground">
                    Selected: <span x-text="selectedValue" class="font-medium"
                    ></span>
                </p>
            </div>
        </section>
    </main>
</Layout>
