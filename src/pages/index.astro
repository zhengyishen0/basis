---
import Layout from '@/layouts/Layout.astro';
import { getEntry } from 'astro:content';

// UI Components for better styling
import Badge from '@/components/ui/feedback/Badge.astro';
import Button from '@/components/ui/forms/Button.astro';
import Avatar from '@/components/ui/display/Avatar.astro';
import { Card, CardHeader, CardContent } from '@/components/ui/display/card';
import Text from '@/components/ui/display/Text.astro';
import Row from '@/components/ui/layout/Row.astro';
import Grid from '@/components/ui/layout/Grid.astro';
import GridItems from '@/components/ui/layout/GridItems.astro';
import Section from '@/components/ui/layout/Section.astro';
import Page from '@/components/ui/layout/Page.astro';

// Import GitHub icon
import githubIconUrl from '@/assets/github-icon-white.svg?url';

// Import essential styles
const homeContent = await getEntry('pages', 'home');
const pageData = JSON.stringify(homeContent?.data || []);
---

<Layout>
    <Page class="min-h-screen" x-data={pageData}>
        <!-- GitHub Avatar in upper right -->
        <Section class="absolute top-4 right-4 z-20">
            <Avatar
                size="lg"
                href="https://github.com/zhengyishen0/basis"
                className="bg-black hover:bg-gray-800 hover:scale-110 transition-all duration-200 cursor-pointer shadow-lg"
                aria-label="GitHub Repository"
                imageSize="1/2"
                src={githubIconUrl}
                alt="GitHub"
            />
        </Section>

        <!-- Hero Section -->
        <Section
            class="text-center py-16 px-4 bg-gradient-to-br from-gray-50 via-white to-gray-100 relative overflow-hidden min-h-[60vh] flex flex-col justify-center items-center gap-4"
        >
            <Text
                variant="hero-title"
                class="mb-4 relative z-10 drop-shadow-sm tracking-tight"
            >
                <span class="relative group">
                    Basis
                    <span
                        class="absolute bottom-[-8px] left-[-5%] w-[110%] h-[5px] bg-primary rounded-full origin-left scale-x-0 opacity-0 group-hover:scale-x-100 group-hover:opacity-100 transition-all duration-700 ease-out"
                    ></span>
                </span>
            </Text>
            <Text
                variant="hero-description"
                class="mb-6 max-w-2xl mx-auto relative z-10"
            >
                Build on Fundamentals - A methodology for modern web development
                using basic tools and clear boundaries
            </Text>
            <Row class="flex justify-center gap-2 flex-wrap mb-6">
                <Badge size="sm">Astro</Badge>
                <Badge size="sm">Alpine</Badge>
                <Badge size="sm">Supabase</Badge>
            </Row>
            <Row class="flex justify-center gap-4">
                <Button href="./todo" size="lg"> Todo </Button>
                <Button href="./demo" size="lg"> Demo </Button>
            </Row>
        </Section>

        <!-- Features Section -->
        <Section class="mx-auto py-16 px-4 bg-white flex flex-col gap-6">
            <Text
                variant="section-title"
                class="text-center mb-8 tracking-tight"
            >
                What Makes <span class="relative font-extrabold">
                    <span class="relative group">
                        Basis
                        <span
                            class="absolute bottom-[-2px] left-[-8%] w-[116%] h-[3px] bg-black rounded-full origin-left scale-x-0 opacity-0 animate-pulse delay-300 group-hover:scale-x-100 group-hover:opacity-100 transition-all duration-700 ease-out"
                        ></span>
                    </span>
                </span> Different
            </Text>
            <Grid columns="3" gap="sm">
                <GridItems x-for="feature in features" x-key="feature.name">
                    <Card
                        variant="default"
                        elevation="elevated"
                        interactive="hover"
                        effect="lift"
                        padding="lg"
                        size="fixed"
                        height="16rem"
                        width="24rem"
                    >
                        <CardHeader>
                            <Badge variant="default" x-text="feature.name" />
                            <Text
                                variant="feature-title"
                                x-text="feature.title"
                                class="my-2"
                            />
                        </CardHeader>
                        <CardContent>
                            <Text
                                variant="feature-description"
                                x-text="feature.description"
                            />
                        </CardContent>
                    </Card>
                </GridItems>
            </Grid>
        </Section>
    </Page>
</Layout>
