---
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';
import { createUIComponent, type UIComponentProps } from '@/lib/component-variants';

const tabsContentVariants = createUIComponent(
  'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',
  {
    variant: {
      default: '',
      card: 'rounded-md border border-border bg-card p-6',
      padded: 'p-4'
    }
  }
);

export interface Props extends UIComponentProps, VariantProps<typeof tabsContentVariants> {
  value: string;
  variant?: 'default' | 'card' | 'padded';
  [key: string]: any;
}

const {
  value,
  variant = 'default',
  size,
  padding,
  margin,
  elevation,
  overflow,
  class: className,
  ...alpineProps
} = Astro.props;
---

<div
  x-show={`selectedTab === '${value}'`}
  x-cloak
  class={cn(
    tabsContentVariants({ variant, size, padding, margin, elevation, overflow }),
    className
  )}
  role="tabpanel"
  aria-labelledby={`trigger-${value}`}
  id={`content-${value}`}
  tabindex="0"
  data-value={value}
  {...alpineProps}
>
  <slot />
</div>