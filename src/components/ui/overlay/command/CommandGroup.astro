---
import MenuGroup from '../menu/MenuGroup.astro';
import { cn } from '@/lib/utils';

export interface Props {
    heading?: string;
    showDivider?: boolean;
    class?: string;
    [key: string]: any;
}

const { heading, showDivider = false, class: className, ...alpineProps } = Astro.props;

// Extract x-for and x-key from alpineProps so they don't get passed to the div
const { 'x-for': xFor, 'x-key': xKey, ...restProps } = alpineProps;
---

{
  xFor ? (
    <template x-for={xFor} x-key={xKey}>
        <MenuGroup 
            x-text="categoryName && categoryName.trim() ? categoryName.charAt(0).toUpperCase() + categoryName.slice(1) : ''"
            className={cn('overflow-hidden p-1 text-foreground', className)}
            {...restProps}
        >
            <slot />
        </MenuGroup>
    </template>
  ) : (
    <MenuGroup 
        x-text={heading}
        className={cn('overflow-hidden p-1 text-foreground', className)}
        {...restProps}
    >
        <slot />
    </MenuGroup>
  )
}
