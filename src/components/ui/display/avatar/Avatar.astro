---
import { cn } from "@/lib/utils";
import { createUIComponent, type VariantProps, type UIComponentProps } from '@/lib/component-variants';

const avatarVariants = createUIComponent(
  "relative flex shrink-0 overflow-hidden rounded-full",
  {
    // Custom size variants (override universal size for avatar dimensions)
    size: {
      xs: "h-6 w-6",
      sm: "h-8 w-8",
      md: "h-10 w-10", 
      lg: "h-12 w-12",
      xl: "h-16 w-16"
    }
  }
);

export interface Props extends UIComponentProps, VariantProps<typeof avatarVariants> {
  href?: string;
}

const { size = 'md', padding, margin, elevation, class: className, href, ...alpineProps } = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag 
  class={cn(avatarVariants({ size, padding, margin, elevation }), className)}
  {...(href ? { href } : {})}
  {...alpineProps}
>
  <slot />
</Tag>